package logs.mailer.app.send;

import java.io.UnsupportedEncodingException;
import java.util.List;

import javax.mail.MessagingException;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import logs.mailer.app.send.mailsender.MailSenderService;

@Service
public class SendService {

	@Autowired
	private SendRepository sendRepository;
	
	@Autowired
	private MailSenderService mailSenderService;
	
	public void addSends(List<Send> sends) {
		for(Send send : sends) {
			try {
				sendMail(send);
			} catch (UnsupportedEncodingException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (MessagingException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			try {
				Thread.sleep(5000);
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}
	
	
	private void sendMail(Send send) throws MessagingException, UnsupportedEncodingException {
		String toAddress = send.getEmail();
		String subject = "Inquiry Regarding Building Materials Procurement for Our Construction Project";
		String content = "<div> <div style=\"font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10pt\" > <div class=\"x_-1984936221zmail_extra\"> <blockquote id=\"x_-1984936221blockquote_zmail\" style=\"margin: 0px\"> <blockquote id=\"x_-214964885blockquote_zmail\" style=\"margin: 0px\"> <div> <div dir=\"ltr\"> <div class=\"x_955329526gmail_quote\"> <div dir=\"ltr\"> <div class=\"x_955329526gmail_quote\"> <div> <div style=\" width: 100%; font-family: arial, 'helvetica neue', helvetica, sans-serif; padding: 0; margin: 0; \" > <div style=\"background-color: rgb(246, 246, 246)\"> <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; background-repeat: repeat; background-position: center top; background-color: rgb(246, 246, 246); \" > <tbody> <tr> <td valign=\"top\" style=\"padding: 0; margin: 0\"> <table cellspacing=\"0\" cellpadding=\"0\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; table-layout: fixed; width: 100%; background-color: transparent; background-repeat: repeat; background-position: center top; \" > <tbody> <tr> <td align=\"center\" style=\"padding: 0; margin: 0\" > <table cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#ffffff\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; background-color: rgb( 255, 255, 255 ); width: 600px; \" > <tbody> <tr> <td align=\"left\" style=\"padding: 0; margin: 0\" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td valign=\"top\" align=\"center\" style=\" padding: 0; margin: 0; width: 600px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td style=\" padding: 0; margin: 0; padding-bottom: 10px; padding-left: 35px; padding-top: 40px; font-size: 0px; \" align=\"left\" > <a href=\"https://www.turnerconstruction.com\" style=\" text-decoration: underline; color: rgb( 44, 181, 67 ); font-size: 14px; \" target=\"_blank\" > <img alt=\"\" style=\" display: block; border: 0px; outline: none; text-decoration: none; \" height=\"53\" src=\"https://dmgnin.stripocdn.email/content/guids/CABINET_0d4c032acf28b27d82df522fc9545972c6f38448d2a48362554e1a8e5b9e18b2/images/turnerconstructioncompanycropped_zi1.png\" /> </a> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> <table cellspacing=\"0\" cellpadding=\"0\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; table-layout: fixed; width: 100%; \" > <tbody> <tr> <td align=\"center\" style=\"padding: 0; margin: 0\" > <table cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#ffffff\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; background-color: rgb( 255, 255, 255 ); width: 600px; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; padding-top: 5px; padding-bottom: 5px; padding-right: 20px; \" > <table cellspacing=\"0\" cellpadding=\"0\" align=\"left\" style=\" border-collapse: collapse; border-spacing: 0px; float: left; \" > <tbody> <tr> <td valign=\"top\" align=\"center\" style=\" padding: 0; margin: 0; width: 331px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td align=\"left\" style=\" margin: 0; padding-left: 20px; padding-top: 30px; padding-bottom: 30px; padding-right: 30px; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> August 17, 2023 </span> </span> </span> </span> </span> <br /> </p> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> <table cellspacing=\"0\" cellpadding=\"0\" align=\"right\" style=\" border-collapse: collapse; border-spacing: 0px; float: right; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; width: 209px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; \" > <p style=\" margin: 0px; line-height: 17px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 17px; \" > <span> <span> Turner Construction Company </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 17px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 17px; \" > <span> <span> 3495 Piedmont Road, </span> </span> <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 17px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 17px; \" > <span> <span> Atlanta, Georgia 30305 </span> </span> <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 17px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 17px; \" > <span> <span> United States </span> </span> <br /> </span> </span> </span> </p> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> <table cellspacing=\"0\" cellpadding=\"0\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; table-layout: fixed; width: 100%; background-color: transparent; background-repeat: repeat; background-position: center top; \" > <tbody> <tr> <td align=\"center\" style=\"padding: 0; margin: 0\" > <table cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#ffffff\" align=\"center\" style=\" border-collapse: collapse; border-spacing: 0px; background-color: rgb( 255, 255, 255 ); width: 600px; \" > <tbody> <tr> <td align=\"left\" style=\" margin: 0; padding-bottom: 10px; padding-top: 20px; padding-left: 20px; padding-right: 20px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; width: 560px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Dear Micheal, </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> I hope this message finds you well. I am Randy Burdige, and I represent Turner Construction Procurement team, a leading builder in diverse market segments. We are currently embarking on a real estate construction project and are in the process of sourcing the necessary building materials to fulfill our requirements. </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> After conducting thorough research, we were impressed by the reputation and quality of your products at [Company Name]. Your commitment to delivering top-notch building materials aligns perfectly with our project's vision and goals. </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Below is a summary of the materials we are looking to procure: </span> </span> <br /> </span> </span> </span> </p> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; padding-left: 20px; padding-right: 20px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td valign=\"top\" align=\"center\" style=\" padding: 0; margin: 0; width: 560px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td style=\" padding: 0; margin: 0; \" > <a style=\" text-decoration: underline; color: rgb( 51, 51, 51 ); font-size: 14px; font-weight: bold; \" > <span> <span> Click to preview / Download </span> </span> </a> <br /> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> <tr> <td align=\"left\" style=\" margin: 0; padding-top: 20px; padding-left: 20px; padding-right: 20px; padding-bottom: 35px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td valign=\"top\" align=\"center\" style=\" padding: 0; margin: 0; width: 560px; \" > <table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" style=\" border-collapse: collapse; border-spacing: 0px; \" > <tbody> <tr> <td align=\"left\" style=\" padding: 0; margin: 0; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> If you offer the aforementioned materials or similar products, we would greatly appreciate it if you could provide us with the following information: </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <ul> <li style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; line-height: 21px; margin-bottom: 15px; margin-left: 0px; color: rgb( 51, 51, 51 ); font-size: 14px; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Availability: Confirm whether the requested materials are currently available in your inventory. </span> </span> </span> </span> </span> <br /> </p> </li> <li style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; line-height: 21px; margin-bottom: 15px; margin-left: 0px; color: rgb( 51, 51, 51 ); font-size: 14px; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Pricing: Provide a detailed price quote for each material, including any bulk or volume discounts available. </span> </span> </span> </span> </span> <br /> </p> </li> <li style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; line-height: 21px; margin-bottom: 15px; margin-left: 0px; color: rgb( 51, 51, 51 ); font-size: 14px; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Lead Time: Specify the estimated lead time for delivery upon order confirmation. </span> </span> </span> </span> </span> <br /> </p> </li> <li style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; line-height: 21px; margin-bottom: 15px; margin-left: 0px; color: rgb( 51, 51, 51 ); font-size: 14px; \" > <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Additional Information: Any relevant technical details, certifications, or specifications that can assist us in our decision-making process. </span> </span> </span> </span> </span> <br /> </p> </li> </ul> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Kindly reply to this email or reach out to me directly at randy.burdbige@turnerconstruction.ltd by 25/09/2023 with the requested information. Your prompt response will be greatly appreciated as we are actively progressing with our project planning. </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Best regards, </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <br /> </span> </span> </span> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Randy Burdbige </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Procurement Manager </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> Turner Construction Company </span> </span> </span> </span> </span> <br /> </p> <p style=\" margin: 0px; line-height: 21px; \" > <span class=\"colour\" style=\" color: rgb( 51, 51, 51 ); \" > <span class=\"font\" style=\" font-family: arial, 'helvetica neue', helvetica, sans-serif; \" > <span class=\"size\" style=\" font-size: 14px; margin: 0px; line-height: 21px; \" > <span> <span> +1 (801) 413-3749 </span> </span> </span> </span> </span> <br /> </p> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> </div> </blockquote> </blockquote> </div> <div> <br /> </div> </div> </div> ";
		
			mailSenderService.sendEmail(toAddress, subject, content);
	}

}
